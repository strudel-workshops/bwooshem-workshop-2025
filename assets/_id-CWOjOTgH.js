import{$ as l,j as e,B as x,C as h,S as t,P as r,T as i}from"./index-CVi8cOX7.js";import{P as j}from"./PageHeader-DsmtDJgN.js";import{u as m}from"./useDetailQuery-BE4GNqH3.js";import{u as p}from"./useCSVStatistics-CaitVhFX.js";import{P as u}from"./react-plotly-BhyKuKQI.js";import"./useQuery-CeqWnLwZ.js";import"./index-Chjiymov.js";function g({filename:a}){const{stats:s,data:n,loading:c,error:o}=p(a);return a?c?e.jsx(r,{sx:{padding:2},children:e.jsx(i,{children:"Loading CSV data..."})}):o?e.jsx(r,{sx:{padding:2},children:e.jsxs(i,{color:"error",children:["Error: ",o]})}):s?e.jsxs(t,{spacing:3,children:[e.jsx(r,{sx:{padding:2},children:e.jsxs(t,{spacing:2,children:[e.jsxs(i,{variant:"h6",fontWeight:"bold",children:["Data Summary for ",a,".csv"]}),e.jsxs(t,{spacing:1,children:[e.jsxs(t,{direction:"row",justifyContent:"space-between",children:[e.jsx(i,{fontWeight:"bold",children:"Number of datapoints:"}),e.jsx(i,{children:s.count.toLocaleString()})]}),e.jsxs(t,{direction:"row",justifyContent:"space-between",children:[e.jsx(i,{fontWeight:"bold",children:"Average Price ($/kWh):"}),e.jsxs(i,{children:["$",s.average]})]}),e.jsxs(t,{direction:"row",justifyContent:"space-between",children:[e.jsx(i,{fontWeight:"bold",children:"Median Price ($/kWh):"}),e.jsxs(i,{children:["$",s.median]})]}),e.jsxs(t,{direction:"row",justifyContent:"space-between",children:[e.jsx(i,{fontWeight:"bold",children:"Maximum Price ($/kWh):"}),e.jsxs(i,{children:["$",s.max]})]}),e.jsxs(t,{direction:"row",justifyContent:"space-between",children:[e.jsx(i,{fontWeight:"bold",children:"Minimum Price ($/kWh):"}),e.jsxs(i,{children:["$",s.min]})]})]})]})}),e.jsx(r,{sx:{padding:2},children:e.jsxs(t,{spacing:2,children:[e.jsx(i,{variant:"h6",fontWeight:"bold",children:"Price Over Time"}),e.jsx(u,{data:[{x:n.map(d=>d.datetime),y:n.map(d=>d.price),type:"scatter",mode:"lines",name:"Price ($/kWh)",line:{color:"#1976d2"}}],layout:{autosize:!0,margin:{l:60,r:40,t:20,b:80},xaxis:{title:"Date/Time",tickangle:-45},yaxis:{title:"Price ($/kWh)"},showlegend:!1},style:{width:"100%",height:"400px"},config:{responsive:!0}})]})})]}):e.jsx(r,{sx:{padding:2},children:e.jsx(i,{children:"No statistics available"})}):e.jsx(r,{sx:{padding:2},children:e.jsx(i,{children:"No file selected"})})}const C=function(){const{id:s}=l.useParams(),{data:n}=m({dataSource:"dummy-data/file-entities.json",dataIdField:"name",paramId:s,queryMode:"client",staticParams:null});return e.jsxs(x,{children:[e.jsx(j,{pageTitle:n?`${n.name}.csv`:"",breadcrumbTitle:"File Detail",sx:{marginBottom:1,padding:2}}),e.jsx(h,{maxWidth:"xl",children:e.jsx(t,{children:e.jsx(g,{filename:n?n.name:""})})})]})};export{C as component};
