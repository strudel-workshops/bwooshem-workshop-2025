import{d as n,a0 as V,a1 as D}from"./index-CVi8cOX7.js";function $(c){const[g,l]=n.useState(null),[p,u]=n.useState([]),[b,i]=n.useState(!1),[C,d]=n.useState(null);return n.useEffect(()=>{if(!c){l(null),u([]),i(!1),d(null);return}(async()=>{var m;i(!0),d(null);try{const r=((m=document.querySelector("base"))==null?void 0:m.getAttribute("href"))??"",f="/bwooshem-workshop-2025/",E=`${V((f?"/":"")+r+f)}/data/${c}.csv`,o=await D(E);if(!o||o.length===0)throw new Error("No data found in CSV file");const M=Object.keys(o[0])[0],v=Object.keys(o[0])[1],t=[],S=[];if(o.forEach(s=>{const a=parseFloat(s[v]);isNaN(a)||(t.push(a),S.push({datetime:s[M],price:a}))}),t.length===0)throw new Error("No valid price data found");u(S);const e=t.length,w=t.reduce((s,a)=>s+a,0)/e,h=[...t].sort((s,a)=>s-a),y=e%2===0?(h[e/2-1]+h[e/2])/2:h[Math.floor(e/2)],x=Math.max(...t),P=Math.min(...t);l({count:e,average:Math.round(w*1e4)/1e4,median:Math.round(y*1e4)/1e4,max:Math.round(x*1e4)/1e4,min:Math.round(P*1e4)/1e4})}catch(r){d(r instanceof Error?r.message:"Failed to load CSV data"),l(null),u([])}finally{i(!1)}})()},[c]),{stats:g,data:p,loading:b,error:C}}export{$ as u};
